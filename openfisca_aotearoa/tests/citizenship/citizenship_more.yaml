---

- name: "Presence - adding days"
  period: 2015
  input:
    persons:
      "ruby_2017-10-01":
        date_of_birth: "1998-01-01"
        full_capacity: true
        # 242 days in NZ
        present_in_new_zealand:
          "day:2013-02-04:399": true
          "day:2014-03-10:5": false
          "day:2014-03-15:533": true
          "day:2015-08-30:193": true
          "day:2016-03-10:5": false
          "day:2016-03-15:165": true
          "day:2016-08-27:67": false
          "day:2016-11-02:14": false
          "day:2016-11-16:192": true
          "day:2017-05-27:24": false
          "day:2017-06-20:215": true
          "day:2018-01-21:22": false
          "day:2018-02-12": true
        immigration__entitled_to_indefinite_stay:
          "day:2013-02-04:399": true
          "day:2014-03-10:5": false
          "day:2014-03-15:533": true
          "day:2015-08-30:193": true
          "day:2016-03-10:5": false
          "day:2016-03-15:165": true
          "day:2016-08-27:67": false
          "day:2016-11-02:14": false
          "day:2016-11-16:192": true
          "day:2017-05-27:24": false
          "day:2017-06-20:215": true
          "day:2018-01-21:22": false
          "day:2018-02-12": true
  output:
    # citizenship__minimum_presence_requirements:
    #   "2017-10-01": true
    # citizenship__5_year_presence_requirement:
    #   "2017-10-01": true
    days_present_in_new_zealand_in_preceeding_year:
      "2017-10-01": 295
      "2016-10-01": 326
      "2015-10-01": 365
      "2014-10-01": 360
      "2013-10-01": 239
      "2013-10-02": 240
    # citizenship__preceeding_single_year_minimum_presence_requirement:
    #   "2017-10-01": true
    #   "2016-10-01": true
    #   "2015-10-01": true
    #   "2014-10-01": true
    #   "2013-10-01": true
    # Were all 5 years true
    citizenship__each_year_minimum_presence_requirements:
      "2017-10-01": false
      "2017-10-02": true
# 0
# -1
# 2017-10-01
# [296]
# [ True]
# 1
# -366
# 2016-10-01
# [325]
# [ True]
# 2
# -731
# 2015-10-02
# [365]
# [ True]
# 3
# -1097
# 2014-10-01
# [360]
# [ True]
# 4
# -1462
# 2013-10-01
# [240]
# [ True]
